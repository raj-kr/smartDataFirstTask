[{"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\App.js":"1","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\index.js":"2","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Signup.jsx":"3","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductAdd.jsx":"4","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductList.jsx":"5","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Login.jsx":"6","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\axios.js":"7","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\keys.js":"8","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\functions.js":"9","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductEdit.jsx":"10","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Profile.jsx":"11","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\AdminLogin.jsx":"12","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\AdminDashboard.jsx":"13","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Layout.jsx":"14"},{"size":1070,"mtime":1611232216241,"results":"15","hashOfConfig":"16"},{"size":312,"mtime":1610108842698,"results":"17","hashOfConfig":"16"},{"size":2187,"mtime":1611233273643,"results":"18","hashOfConfig":"16"},{"size":3391,"mtime":1611233325322,"results":"19","hashOfConfig":"16"},{"size":6374,"mtime":1611233290179,"results":"20","hashOfConfig":"16"},{"size":1790,"mtime":1611233337892,"results":"21","hashOfConfig":"16"},{"size":310,"mtime":1610126272033,"results":"22","hashOfConfig":"16"},{"size":208,"mtime":1610980720178,"results":"23","hashOfConfig":"16"},{"size":1275,"mtime":1611209881044,"results":"24","hashOfConfig":"16"},{"size":3461,"mtime":1611233309552,"results":"25","hashOfConfig":"16"},{"size":2092,"mtime":1611233254717,"results":"26","hashOfConfig":"16"},{"size":1973,"mtime":1611233350836,"results":"27","hashOfConfig":"16"},{"size":263,"mtime":1611233361805,"results":"28","hashOfConfig":"16"},{"size":3013,"mtime":1611233541240,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1g1ehty",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\App.js",[],["65","66"],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\index.js",[],["67","68"],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Signup.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductAdd.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductList.jsx",["69","70"],"import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { Table, Button, Modal } from 'react-bootstrap';\r\nimport { userInstance } from '../config/axios';\r\nimport { server } from '../config/keys';\r\nimport ProductEdit from './ProductEdit';\r\n\r\nconst ProductList = () => {\r\n    const [productList, setProductList] = useState([]);\r\n    const [show, setShow] = useState(false);\r\n    const [editId, setEditId] = useState('');\r\n    let [pageIndex, setPageIndex] = useState(1);\r\n\r\n    const getProducts = async () => {\r\n        console.log('pageIndex', pageIndex);\r\n        const { status, data } = await userInstance.get(`/products/product/page/${pageIndex}`);\r\n        if (status === 200) {\r\n            setProductList(data.list);\r\n        } else {\r\n            alert('Error Fetching Product list');\r\n        }\r\n    }\r\n\r\n    const deleteProduct = async (_id) => {\r\n        const { status, data: { msg } } = await userInstance.delete(`/products/product/${_id}`);\r\n        if (status === 200) {\r\n            alert(msg);\r\n            getProducts();\r\n        } else {\r\n            alert(msg);\r\n        }\r\n    }\r\n\r\n    const handleSearch = async (e) => {\r\n        if (e.target.value !== '') {\r\n            const response = await userInstance.get(`/products/${e.target.value}`);\r\n            console.log('response', response);\r\n            if (response.status === 200) {\r\n                setProductList(response.data.products);\r\n            }\r\n        } else {\r\n            getProducts();\r\n        }\r\n    }\r\n\r\n    const handleSort = (e) => {\r\n        const sort = e.target.value;\r\n        let tempProducts = [];\r\n        if (sort === 'asc') {\r\n            tempProducts = productList.sort((a, b) => a.name.localeCompare(b.name));\r\n        } else if (sort === 'dsc') {\r\n            tempProducts = productList.sort((a, b) => b.name.localeCompare(a.name));\r\n        } else if (sort === 'priceLow') {\r\n            tempProducts = productList.sort((a, b) => a.price - b.price);\r\n        } else if (sort === 'priceHigh') {\r\n            tempProducts = productList.sort((a, b) => b.price - a.price);\r\n        }\r\n        setProductList([...tempProducts]);\r\n    }\r\n\r\n    const nextPage = () => {\r\n        setPageIndex((pageIndex) => pageIndex + 1);\r\n        getProducts();\r\n    }\r\n\r\n    const previousPage = () => {\r\n        if (pageIndex >= 1) {\r\n            setPageIndex((pageIndex) => pageIndex - 1);\r\n            getProducts();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProducts();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (show === false) {\r\n            getProducts();\r\n        }\r\n    }, [show]);\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"product-inner\">\r\n                <h3>List Product</h3>\r\n                <div className=\"row\">\r\n                    <div className=\"md-6\">\r\n                        <h5>Sort By</h5>\r\n                    </div>\r\n                    <div className=\"md-6\">\r\n                        <select onChange={handleSort}>\r\n                            <option selected disabled>Selet Sort By</option>\r\n                            <option value=\"asc\">{'Ascending'}</option>\r\n                            <option value=\"dsc\">{'Descending'}</option>\r\n                            <option value=\"priceLow\">{'Price Low to High'}</option>\r\n                            <option value=\"priceHigh\">{'Price High to Low'}</option>\r\n                        </select>\r\n                        <input type=\"text\" name=\"search\" placeholder=\"Search Products by name\" onChange={handleSearch}></input>\r\n                    </div>\r\n                </div>\r\n                <Table striped bordered hover size=\"sm\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Product Image</th>\r\n                            <th>Name</th>\r\n                            <th>Desciption</th>\r\n                            <th>Price</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {productList && productList.length !== 0 ?\r\n                            productList.map((product, index) => {\r\n                                return (\r\n                                    <tr key={product._id}>\r\n                                        <td>{++index}</td>\r\n                                        <td>\r\n                                            <img src={`${server}/${product.image}`} width=\"100\" height=\"100\" alt={`smartData_${product.name}`}></img>\r\n                                        </td>\r\n                                        <td>{product.name}</td>\r\n                                        <td>{product.description}</td>\r\n                                        <td>{product.price}</td>\r\n                                        <td>\r\n                                            <Button variant=\"info\" onClick={() => { setShow(true); setEditId(product._id) }}>Edit</Button>\r\n                                            <Button variant=\"danger\" onClick={() => {\r\n                                                if (window.confirm(\"Are you sure, you want to Delete product?\")) deleteProduct(product._id)\r\n                                            }\r\n                                            }>Delete</Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                );\r\n                            })\r\n                            :\r\n                            <tr><td colSpan=\"6\">No Product Found</td></tr>\r\n                        }\r\n                    </tbody>\r\n                </Table>\r\n                <Button variant=\"secondary\" onClick={previousPage}>Prev</Button>\r\n                <Button variant=\"dark\" onClick={nextPage}>Next</Button>\r\n                <Modal show={show} onHide={() => { setShow(false) }} backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Edit Product</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <ProductEdit editId={editId} setShow={setShow} />\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </div >\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default ProductList;","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Login.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\axios.js",["71"],"import axios from \"axios\";\r\nimport { server } from \"./keys\";\r\n\r\nexport const userInstance = axios.create({\r\n  baseURL: server,\r\n  withCredentials: true,\r\n  headers: {\r\n    Authorization: localStorage.getItem(\"accessToken\")\r\n      ? \"Bearer\" + \" \" + localStorage.getItem(\"accessToken\")\r\n      : \"\",\r\n  },\r\n});\r\n","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\keys.js",[],["72","73"],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\functions.js",[],["74","75"],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductEdit.jsx",["76"],"import React, { useState, useRef, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { userInstance } from '../config/axios';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst ProductEdit = ({ editId, setShow }) => {\r\n    const [formData, setFormData] = useState({});\r\n    const fileRef = useRef();\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    }\r\n\r\n    const handleImage = async (e) => {\r\n        const data = new FormData();\r\n        data.append(\"file\", e.target.files[0]);\r\n        const { status, data: { file, msg } } = await userInstance.post(\"/products/photo\", data);\r\n        if (status === 200) {\r\n            setFormData({ ...formData, image: file });\r\n        } else {\r\n            alert(msg);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setShow(false);\r\n        const payload = {\r\n            _id: editId,\r\n            name: formData.name,\r\n            description: formData.description,\r\n            price: +formData.price,\r\n            image: formData.image\r\n        }\r\n        try {\r\n            const { status, data: { msg } } = await userInstance.patch('/products/product', payload);\r\n            if (status === 200) {\r\n                alert(msg);\r\n            } else {\r\n                alert(msg);\r\n            }\r\n        } catch (error) {\r\n            alert(error)\r\n        }\r\n    }\r\n\r\n    const getProduct = async () => {\r\n        const response = await userInstance.get(`/products/product/${editId}`);\r\n        if (response.status === 200) {\r\n            setFormData(response.data.product);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProduct();\r\n    }, [])\r\n\r\n    return (\r\n        <Layout>\r\n            <div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Name</label>\r\n                        <input type=\"text\" name=\"name\" value={formData.name} className=\"form-control\" placeholder=\"Enter product name\" onChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Description</label>\r\n                        <textarea type=\"text\" name=\"description\" value={formData.description} className=\"form-control\" placeholder=\"Enter product description\" onChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Price</label>\r\n                        <input type=\"number\" name=\"price\" value={formData.price} className=\"form-control\" min=\"1\" placeholder=\"Enter product price\" onChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Image</label>\r\n                        <Form.File\r\n                            id=\"custom-file\"\r\n                            label={formData.image || \"Upload product image\"}\r\n                            name=\"image\"\r\n                            ref={fileRef}\r\n                            onChange={handleImage}\r\n                            custom\r\n                        />\r\n                    </div>\r\n                    <Button variant=\"success\" className=\"btn-block\" type=\"submit\" >Edit Product</Button>\r\n                </form>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default ProductEdit;","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Profile.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\AdminLogin.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\AdminDashboard.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Layout.jsx",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"77","replacedBy":"81"},{"ruleId":"79","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":75,"column":8,"nodeType":"85","endLine":75,"endColumn":10,"suggestions":"86"},{"ruleId":"83","severity":1,"message":"84","line":81,"column":8,"nodeType":"85","endLine":81,"endColumn":14,"suggestions":"87"},{"ruleId":"88","severity":1,"message":"89","line":9,"column":18,"nodeType":"90","messageId":"91","endLine":9,"endColumn":19},{"ruleId":"77","replacedBy":"92"},{"ruleId":"79","replacedBy":"93"},{"ruleId":"77","replacedBy":"94"},{"ruleId":"79","replacedBy":"95"},{"ruleId":"83","severity":1,"message":"96","line":57,"column":8,"nodeType":"85","endLine":57,"endColumn":10,"suggestions":"97"},"no-native-reassign",["98"],"no-negated-in-lhs",["99"],["98"],["99"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getProducts'. Either include it or remove the dependency array.","ArrayExpression",["100"],["101"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat",["98"],["99"],["98"],["99"],"React Hook useEffect has a missing dependency: 'getProduct'. Either include it or remove the dependency array.",["102"],"no-global-assign","no-unsafe-negation",{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},{"desc":"107","fix":"108"},"Update the dependencies array to be: [getProducts]",{"range":"109","text":"110"},"Update the dependencies array to be: [getProducts, show]",{"range":"111","text":"112"},"Update the dependencies array to be: [getProduct]",{"range":"113","text":"114"},[2518,2520],"[getProducts]",[2626,2632],"[getProducts, show]",[1757,1759],"[getProduct]"]
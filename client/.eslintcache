[{"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\App.js":"1","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\index.js":"2","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Signup.jsx":"3","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductAdd.jsx":"4","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductList.jsx":"5","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Login.jsx":"6","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\axios.js":"7","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\keys.js":"8","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\functions.js":"9","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductEdit.jsx":"10"},{"size":2387,"mtime":1610311312534,"results":"11","hashOfConfig":"12"},{"size":312,"mtime":1610108842698,"results":"13","hashOfConfig":"12"},{"size":2034,"mtime":1610311068933,"results":"14","hashOfConfig":"12"},{"size":3202,"mtime":1610311104339,"results":"15","hashOfConfig":"12"},{"size":6041,"mtime":1610311252200,"results":"16","hashOfConfig":"12"},{"size":1708,"mtime":1610311021234,"results":"17","hashOfConfig":"12"},{"size":310,"mtime":1610126272033,"results":"18","hashOfConfig":"12"},{"size":104,"mtime":1610312625501,"results":"19","hashOfConfig":"12"},{"size":667,"mtime":1610137514731,"results":"20","hashOfConfig":"12"},{"size":3280,"mtime":1610297161164,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1g1ehty",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\App.js",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\index.js",[],["47","48"],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Signup.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductAdd.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductList.jsx",["49","50"],"import React, { useState, useEffect } from 'react';\r\nimport { Table, Button, Modal } from 'react-bootstrap';\r\nimport { userInstance } from '../config/axios';\r\nimport { server } from '../config/keys';\r\nimport ProductEdit from './ProductEdit';\r\n\r\nconst ProductList = () => {\r\n    const [productList, setProductList] = useState([]);\r\n    const [show, setShow] = useState(false);\r\n    const [editId, setEditId] = useState('');\r\n    let [pageIndex, setPageIndex] = useState(1);\r\n\r\n    const getProducts = async () => {\r\n        console.log('pageIndex', pageIndex);\r\n        const { status, data } = await userInstance.get(`/products/product/page/${pageIndex}`);\r\n        if (status === 200) {\r\n            setProductList(data.list);\r\n        } else {\r\n            alert('Error Fetching Product list');\r\n        }\r\n    }\r\n\r\n    const deleteProduct = async (_id) => {\r\n        const { status, data: { msg } } = await userInstance.delete(`/products/product/${_id}`);\r\n        if (status === 200) {\r\n            alert(msg);\r\n            getProducts();\r\n        } else {\r\n            alert(msg);\r\n        }\r\n    }\r\n\r\n    const handleSearch = async (e) => {\r\n        if (e.target.value !== '') {\r\n            const response = await userInstance.get(`/products/${e.target.value}`);\r\n            console.log('response', response);\r\n            if (response.status === 200) {\r\n                setProductList(response.data.products);\r\n            }\r\n        } else {\r\n            getProducts();\r\n        }\r\n    }\r\n\r\n    const handleSort = (e) => {\r\n        const sort = e.target.value;\r\n        let tempProducts = [];\r\n        if (sort === 'asc') {\r\n            tempProducts = productList.sort((a, b) => a.name.localeCompare(b.name));\r\n        } else if (sort === 'dsc') {\r\n            tempProducts = productList.sort((a, b) => b.name.localeCompare(a.name));\r\n        } else if (sort === 'priceLow') {\r\n            tempProducts = productList.sort((a, b) => a.price - b.price);\r\n        } else if (sort === 'priceHigh') {\r\n            tempProducts = productList.sort((a, b) => b.price - a.price);\r\n        }\r\n        setProductList([...tempProducts]);\r\n    }\r\n\r\n    const nextPage = () => {\r\n        setPageIndex((pageIndex) => pageIndex + 1);\r\n        getProducts();\r\n    }\r\n\r\n    const previousPage = () => {\r\n        if (pageIndex >= 1) {\r\n            setPageIndex((pageIndex) => pageIndex - 1);\r\n            getProducts();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProducts();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (show === false) {\r\n            getProducts();\r\n        }\r\n    }, [show]);\r\n\r\n    return (\r\n        <div className=\"product-inner\">\r\n            <h3>List Product</h3>\r\n            <div className=\"row\">\r\n                <div className=\"md-6\">\r\n                    <h5>Sort By</h5>\r\n                </div>\r\n                <div className=\"md-6\">\r\n                    <select onChange={handleSort}>\r\n                        <option selected disabled>Selet Sort By</option>\r\n                        <option value=\"asc\">{'Ascending'}</option>\r\n                        <option value=\"dsc\">{'Descending'}</option>\r\n                        <option value=\"priceLow\">{'Price Low to High'}</option>\r\n                        <option value=\"priceHigh\">{'Price High to Low'}</option>\r\n                    </select>\r\n                    <input type=\"text\" name=\"search\" placeholder=\"Search Products by name\" onChange={handleSearch}></input>\r\n                </div>\r\n            </div>\r\n            <Table striped bordered hover size=\"sm\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Product Image</th>\r\n                        <th>Name</th>\r\n                        <th>Desciption</th>\r\n                        <th>Price</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {productList && productList.length !== 0 ?\r\n                        productList.map((product, index) => {\r\n                            return (\r\n                                <tr key={product._id}>\r\n                                    <td>{++index}</td>\r\n                                    <td>\r\n                                        <img src={`${server}/${product.image}`} width=\"100\" height=\"100\" alt={`smartData_${product.name}`}></img>\r\n                                    </td>\r\n                                    <td>{product.name}</td>\r\n                                    <td>{product.description}</td>\r\n                                    <td>{product.price}</td>\r\n                                    <td>\r\n                                        <Button variant=\"info\" onClick={() => { setShow(true); setEditId(product._id) }}>Edit</Button>\r\n                                        <Button variant=\"danger\" onClick={() => {\r\n                                            if (window.confirm(\"Are you sure, you want to Delete product?\")) deleteProduct(product._id)\r\n                                        }\r\n                                        }>Delete</Button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })\r\n                        :\r\n                        <tr><td colSpan=\"6\">No Product Found</td></tr>\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n            <Button variant=\"secondary\" onClick={previousPage}>Prev</Button>\r\n            <Button variant=\"dark\" onClick={nextPage}>Next</Button>\r\n            <Modal show={show} onHide={() => { setShow(false) }} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Edit Product</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <ProductEdit editId={editId} setShow={setShow} />\r\n                </Modal.Body>\r\n            </Modal>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default ProductList;","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\Login.jsx",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\axios.js",["51"],"import axios from \"axios\";\r\nimport { server } from \"./keys\";\r\n\r\nexport const userInstance = axios.create({\r\n  baseURL: server,\r\n  withCredentials: true,\r\n  headers: {\r\n    Authorization: localStorage.getItem(\"accessToken\")\r\n      ? \"Bearer\" + \" \" + localStorage.getItem(\"accessToken\")\r\n      : \"\",\r\n  },\r\n});\r\n","C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\keys.js",[],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\config\\functions.js",[],["52","53"],"C:\\Users\\Rajkumar\\Desktop\\smartDataFirstTask\\client\\src\\component\\ProductEdit.jsx",["54"],"import React, { useState, useRef, useEffect } from 'react';\r\nimport { userInstance } from '../config/axios';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst ProductEdit = ({ editId, setShow }) => {\r\n    const [formData, setFormData] = useState({});\r\n    const fileRef = useRef();\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    }\r\n\r\n    const handleImage = async (e) => {\r\n        const data = new FormData();\r\n        data.append(\"file\", e.target.files[0]);\r\n        const { status, data: { file, msg } } = await userInstance.post(\"/products/photo\", data);\r\n        if (status === 200) {\r\n            setFormData({ ...formData, image: file });\r\n        } else {\r\n            alert(msg);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setShow(false);\r\n        const payload = {\r\n            _id: editId,\r\n            name: formData.name,\r\n            description: formData.description,\r\n            price: +formData.price,\r\n            image: formData.image\r\n        }\r\n        try {\r\n            const { status, data: { msg } } = await userInstance.patch('/products/product', payload);\r\n            if (status === 200) {\r\n                alert(msg);\r\n            } else {\r\n                alert(msg);\r\n            }\r\n        } catch (error) {\r\n            alert(error)\r\n        }\r\n    }\r\n\r\n    const getProduct = async () => {\r\n        const response = await userInstance.get(`/products/product/${editId}`);\r\n        if (response.status === 200) {\r\n            setFormData(response.data.product);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProduct();\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label>Name</label>\r\n                    <input type=\"text\" name=\"name\" value={formData.name} className=\"form-control\" placeholder=\"Enter product name\" onChange={handleChange} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Description</label>\r\n                    <textarea type=\"text\" name=\"description\" value={formData.description} className=\"form-control\" placeholder=\"Enter product description\" onChange={handleChange} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Price</label>\r\n                    <input type=\"number\" name=\"price\" value={formData.price} className=\"form-control\" min=\"1\" placeholder=\"Enter product price\" onChange={handleChange} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Image</label>\r\n                    <Form.File\r\n                        id=\"custom-file\"\r\n                        label={formData.image || \"Upload product image\"}\r\n                        name=\"image\"\r\n                        ref={fileRef}\r\n                        onChange={handleImage}\r\n                        custom\r\n                    />\r\n                </div>\r\n                <Button variant=\"success\" className=\"btn-block\" type=\"submit\" >Edit Product</Button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductEdit;",{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":74,"column":8,"nodeType":"61","endLine":74,"endColumn":10,"suggestions":"62"},{"ruleId":"59","severity":1,"message":"60","line":80,"column":8,"nodeType":"61","endLine":80,"endColumn":14,"suggestions":"63"},{"ruleId":"64","severity":1,"message":"65","line":9,"column":18,"nodeType":"66","messageId":"67","endLine":9,"endColumn":19},{"ruleId":"55","replacedBy":"68"},{"ruleId":"57","replacedBy":"69"},{"ruleId":"59","severity":1,"message":"70","line":56,"column":8,"nodeType":"61","endLine":56,"endColumn":10,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getProducts'. Either include it or remove the dependency array.","ArrayExpression",["74"],["75"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat",["72"],["73"],"React Hook useEffect has a missing dependency: 'getProduct'. Either include it or remove the dependency array.",["76"],"no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [getProducts]",{"range":"83","text":"84"},"Update the dependencies array to be: [getProducts, show]",{"range":"85","text":"86"},"Update the dependencies array to be: [getProduct]",{"range":"87","text":"88"},[2486,2488],"[getProducts]",[2594,2600],"[getProducts, show]",[1725,1727],"[getProduct]"]